# name: GitHub Actions Demo
# on: [push,pull_request]
# jobs:
#   Explore-GitHub-Actions:
#     runs-on: ubuntu-latest
#     steps:
#       - run: echo "üéâ The job was automatically triggered by a ${{ github.event_name }} event."
#       - run: echo "üêß This job is now running on a ${{ runner.os }} server hosted by GitHub!"
#       - run: echo "üîé The name of your branch is ${{ github.ref }} and your repository is ${{ github.repository }}."
#       - name: Check out repository code
#         uses: actions/checkout@v3
#       - run: echo "üí° The ${{ github.repository }} repository has been cloned to the runner."
#       - run: echo "üñ•Ô∏è The workflow is now ready to test your code on the runner."
#       - name: List files in the repository
#         run: |
#           ls ${{ github.workspace }}
#       - run: echo "üçè This job's status is ${{ job.status }}."

# # on:
# #   pull_request:
# # jobs:
#   test-check:
#     name: runner / sqlfluff (github-check)
#     runs-on: ubuntu-latest
#     env:
#       DBT_PROFILES_DIR: ./
#       PROFILES_YML_HOST: ${{ secrets.PROFILES_YML_HOST }}
#       PROFILES_YML_USER: ${{ secrets.PROFILES_YML_USER }}
#       PROFILES_YML_PASS: ${{ secrets.PROFILES_YML_USER }}
#       PROFILES_YML_PORT: ${{ secrets.PROFILES_YML_USER }}
#       PROFILES_YML_DBNAME: ${{ secrets.PROFILES_YML_USER }}
#       PROFILES_YML_SCHEMA: ${{ secrets.PROFILES_YML_USER }}
#     steps:
#       - uses: actions/checkout@v2
#       - uses: yu-iskw/action-sqlfluff@v3
#         id: lint-sql
#         with:
#           github_token: ${{ secrets.github_token }}
#           reporter: github-pr-review
#           sqlfluff_version: "1.2.0"
#           sqlfluff_command: "fix" # Or "lint"
#           config: "${{ github.workspace }}/.sqlfluff"
#           paths: '${{ github.workspace }}/models'
#           github_base_ref: "main"     
#       - name: 'Show outputs (Optional)'
#         shell: bash 
#         run: |
#           echo '${{ steps.lint-sql.outputs.sqlfluff-results }}' | jq -r '.'
#           echo '${{ steps.lint-sql.outputs.sqlfluff-results-rdjson }}' | jq -r '.'   
